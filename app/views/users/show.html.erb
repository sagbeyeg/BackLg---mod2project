
<div class="text-center">
    <h1><%= "#{@user.name}'s Games"%></h1>
    <%=button_to "Edit Profile", edit_user_path(@user), method: :get%>

    <h3>My Games:</h3>

    <div class="form">
    <%= form_tag( "/users/#{@user.id}", :method => :get )  do %>
        <% game_lists = @user.game_lists.map{|list,games| list}%>
        <%= select_tag "game_list", options_for_select(game_lists)%>
        <%= hidden_field_tag "id", @user.id%>
        <%= submit_tag "Filter"%>
    <% end %>
    <%= button_to "Clear Filter", user_path(@user), id: @user.id, method: :get%>
    </div>

    <%if params[:game_list]%>
        <p><%= params[:game_list]%> Games</p>
    <%end%>

    <div class="container my-4">
    <div class="row">
        <% @user_games.each do |game|%>
                <div class="col-lg-4 col-md-12 mb-4">
                    <%= image_tag  "#{game.image_url}" %>
                    <%=link_to  "#{game.name}", game_path(game) %>
                    <%= button_to "Add/Edit Review", edit_review_path(Review.find_by(user_id: @user.id, game_id: game.id)), method: :get%>
                </div>
        <% end %>
    </div>
    </div>
            
    

    <%=button_to "Add Game", games_path, method: :get%>

    <h3>My Systems:</h3>
    <ul>
        <% @user.systems.each do |sys|%>
            <li><%= sys.name %></li>
        <% end%>
    </ul>
    <%=button_to "Add System", new_system_user_path, method: :get%>


    <h3>My Reviews:</h3>
    <ul>
        <% @user.reviews.each do |review|%>
            <% if review.title != nil && review.description != nil%>
                <li><%= link_to "#{review.game.name} - #{review.title} - #{review.rating}", review_path(review)%></li>
            <% end %>
        <%end%>
    </ul>